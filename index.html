<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./css/style.css">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <title>Barangay Bagong Ilog</title>
  <style>
    
            #history:hover {
            background-image: url(./assets/saint.jpg);
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            transform: scale(1.02);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
        }   
        
.info-container {
    width: 90%;
    max-width: 1200px;
    margin: 20px auto;
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    
}

.info-header {
    width: 100%;
    text-align: center;
    margin-bottom: 20px;
}

.title {
    color: white;
    margin: 0;
    padding: 5px;
    display: block; /* Changed from inline-block to block for full width */
    font-size: 30px;
    text-align: center; /* Center the text horizontally */
    position: relative;
    width: 100%; /* Ensure it takes full width of its container */
    box-sizing: border-box; /* Ensure padding and border are included in width */
}

.info-section {
    flex: 1 1 300px;
    background-color: rgba(0, 0, 0, 0.8);
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
    box-sizing: border-box;
}

.info-section:hover {
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
}

.info-section h3 {
    color: white;
    margin-bottom: 25px;
    border-left: 4px solid white;
    padding-left: 10px;
    font-size: 20px;
    position: relative;

}

.info-section p {
    margin: 10px 0;
    color: rgba(255, 255, 255, 0.671);
    line-height: 1.2;
    padding-left: 10px;
    position: relative;
}

.info-section p strong {
    color: white;
}


        /* Existing media queries */
        @media (min-width: 769px) {
            .nav-menu {
                flex-direction: row;
                justify-content: center;
            }
            .nav-con {
                display: flex;
                justify-content: center;
                align-items: center;
                width: 100%;
            }
            .option-con {
                display: flex;
                flex-direction: row;
                gap: 15px;
            }
            .login {
                margin-left: auto;
            }
        }


@media (min-width: 321px) and (max-width: 768px) {
    
    .header {
        flex-direction: column;
        align-items: flex-start;
        height: 50px;
        width: 100%;
    }
    .line {
        margin: 3px 0;
        width: 25px;
        height: 3px;
    }
    .nav-menu {
        flex-direction: column;
        width: 100%;
        display: none;
        margin-top: 50px;
    }
    .nav-menu.active {
        display: flex;
        position: fixed;
        top: 0;
        left: 0;
        width: 35%;
        height: 35%;
        background-color: black;
        justify-content: center;
        align-items: center;
        z-index: 1000;
        border-radius: 5px;
    }
    .nav-menu a {
        padding: 10px;
        width: 100%;
        font-size: 13px;
    }
    .dropbtn {
        font-size: 13px;
    }
    .menu-button {
        display: flex;
        margin-left: 10px;
    }
    .brngyname {
        font-size: 45px;
        margin-bottom: 45px;
    }
    .logo img {
        width: 25%;
        margin-top: 10px;
    }
    .login {
        flex-direction: column;
        width: 100%;
    }
    .button button {
        width: 160px;
        font-size: 13px;
        margin-top: 50px;
    }  
    .option-con {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .announce {
        margin-left: 20px;
    }
    .evnts {
        margin-left: 20px;
    }
  
    /* Responsive styling for smaller screens */
    .container-hotline {
        width: 95%;
        margin-left: px;
       
    }
    .barangayhotline {
        width: 75px;
        font-size: 3px;
         margin-bottom: 9px;
    }
    .barangayhotline p {
        font-size:16px;
        margin-bottom: 9px;
    }
    .number {
        width: 200px;
        font-size: 12px;
    }
    .footer p {
        font-size: 12px;
        margin-left: 20px;
    }
    .level {
        flex-direction: column; /* Stack items vertically on smaller screens */
        align-items: center;
    }
    .official {
        flex: 1 1 100%; /* Full width for each official on smaller screens */
        max-width: 200px;
        margin-right: 50px;
         /* No maximum width on smaller screens */
    }
    .official-img {
        max-width: 150px; /* Adjust image size on smaller screens */
    }
    .official-name {
        font-size: 14px; /* Adjust font size for smaller screens */
    }
    .official-title {
        font-size: 12px; /* Adjust font size for smaller screens */
    }
    .container1 {
        margin-left: 50px;
    }
    .announce{
        margin-right: 23px;
    }
    .evnts {
        margin-right: 23px;
    }
    .align {
        margin-top: 10%;
    }
    .nav-arrow {
        margin-top: 45rem;
    }
    /* INFO */
    .info-container {
        width: 95%;
        max-width: 100%;
        padding: 10px;
    }

    .info-section {
        flex-basis: calc(50% - 10px);
    }

    .info-header h2 {
        font-size: 20px;
    }

    .info-header h2::before {
        left: -25px;
        font-size: 22px;
    }

    .info-section h3 {
        font-size: 18px;
    }

    .info-section h3::before {
        left: -20px;
        font-size: 16px;
    }
}
@media (min-width: 321px) and (max-width: 767px) {
  
    .container3 {
        display: flex;
        align-items: center;
        justify-content: center; /* Center content horizontally */
        padding: 20px;
        margin: auto;
        height: 270px;
        max-width: 300px; /* Set a maximum width if needed */
        background: linear-gradient(to bottom right, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.5));
        box-sizing: border-box; /* Include padding and border in total width */
        margin-bottom: 20px; /* Example margin bottom */
    }

    .icon img {
        max-width: 250%; /* Ensure image doesn't exceed container width */
        margin-right: 150px;
        display: block; /* Remove any inline spacing */
     
    }

    .separator {
        display: flex;
        flex-direction: column;
        max-width: 100%;
        width: 100%;
        align-items: center;
    }
    .divider {
        width: 300px;

    }
    .con {
        margin-top: 0;
    }
   
 
}

@media (min-width: 735px) and (max-width: 1247px) {
    .official {
        flex: 1 1 23%; /* Adjust width percentage for the specified range */
        max-width: 170px; /* Adjust maximum width for the specified range */
    }
    .official-img {
        max-width: 150px; /* Adjust image size for the specified range */
    }
    .official-name {
        font-size: 15px; /* Adjust font size for the specified range */
    }
    .official-title {
        font-size: 13px; /* Adjust font size for the specified range */
    }
    .container-hotline {
        width: 70%;
        
    }
    .barangayhotline {
        width: 70px;
        font-size: 10px;
    }
    .number {
        width: 200px;
    }
    .nav-arrow {
        margin-top: 40rem;
    }
   
}

@media (min-width: 670px) and (max-width: 985px) {
    .official {
        flex: 1 1 23%; /* Adjust width percentage for the specified range */
        max-width: 140px; /* Adjust maximum width for the specified range */
    }
    .official-img {
        max-width: 150px; /* Adjust image size for the specified range */
    }
    .official-name {
        font-size: 15px; /* Adjust font size for the specified range */
    }
    .official-title {
        font-size: 13px; /* Adjust font size for the specified range */
    }
    .container-hotline {
        width: 90%;
    }
    .barangayhotline {
        width: 70px;
        font-size: 10px;
    }
    .number {
        width: 200px;
    }
    
}

  </style>
</head>
<body style="background-image: url('./assets/gradient-bg.png');">
    <header class="header">
        <div class="menu-button" onclick="toggleMenu()">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
        </div>
      
    
        <nav class="nav-menu">
    <div class="nav-con">
        <div class="option-con">
            <a href="#">HOME</a>
            <a href="#historyscroll">ABOUT</a>
            <a href="#officialsscroll">BARANGAY OFFICIALS</a>
            <div class="dropdown">
                <button class="dropbtn">UPDATES</button>
                <div class="dropdown-content">
                    <a href="#announcements">ANNOUNCEMENTS</a>
                    <a href="#events">EVENTS</a>
                </div>
            </div>
            <a href="#hotlinescroll">HOTLINE NUMBERS</a>
        </div>
        
        <a href="login.php" class="login" id="log">LOG IN</a>
        
    </div>
</nav>


    </header>
    <main class="content">
        <div class="logo">
            <br><br>
            <img src="./assets/bgi logo.png" alt="Barangay Bagong Ilog Logo">
        </div>
       
        <div class="brngyname">
            <p><b>BARANGAY</b></p>
            <p><b>BAGONG ILOG</p>
        </div>
        <div class="button">
            <a href="signupuser.php">
                <button>CREATE ACCOUNT</button>
            </a>
        </div>

    </main>
    <br><br>
    <hr class="custom-hr" id="historyscroll">
    <h1 class="title" id="title">BARANGAY'S GENERAL INFORMATION</h1>
         
<div class="slider-container">
    
    <div class="slider">
        <div class="slide" id="history">
            <div class="history-content">
                <div class="header2">HISTORY</div>
                <p>In the early 17th century, Barangays Sumilang and Bagong Ilog were considered one barrio. These two barangays were made up of valley of sand called Aplaya. Different vegetables were planted in the Aplaya where traders from nearby barrios used to flock to buy vegetables of all sorts and even the Governor General who lived in Malacanang loved to pass by the place through the use of abanca.</p>
        <p>Many lives were lost and several natives were forced to evacuate to a higher ground, called Dilain (now known as Pasig Boulevard and Kawilihan Village). When the flood waned, a long rivulet was left right in the middle of the valley and eventually became a brook that totally divided the Aplaya into two grazing land. Years passed and the new tumana was called Sumilang because it emerged from the east, while in the former tumana sprung a new tributary and called it Bagong Ilog.</p>

            </div>
        </div>
        <div class="slide" id="vision-mission">
    
        <div class="separator">
        <div class="align">
    <div class="container3">
        <div class="icon">
            <img src="./assets/opportunity.png" alt="Vision Icon">
        </div>
        <div class="con">
            <h2 class="header3">VISION</h2>
            <hr class="divider">
            <div class="vision-con">
                <p>To create a vibrant and harmonious community where residents thrive, supported by transparent governance and sustainable development initiatives.</p>
            </div>
        </div>
    </div>
    </div>
    <div class="align">

    <div class="container3">
        <div class="icon">
            <img src="./assets/ftarget.png" alt="Mission Icon">
        </div>
        <div class="con">
            <h2 class="header3">MISSION</h2>
            <hr class="divider">
            <div class="mission-con">
                <p>To provide efficient and effective services to its residents, promoting community involvement, and ensuring the welfare and safety of its constituents.</p>
            </div>
        </div>
    </div>
    </div>
    </div>
</div>

    </div>
</div>


<div class="navigation">
    <button class="nav-arrow left">&#10094;</button>
    <button class="nav-arrow right">&#10095;</button>
</div>

<div class="info-container">
    <div class="info-header" id="info">
       
    </div>
    <div class="info-container">
    <div class="info-header" id="info">
        <!-- Header content if any -->
    </div>
    <div class="info-section">
        <?php 
        include'connection.php';
        $sql = "SELECT statistic, content FROM statistics";
        $result = $connect->query($sql);
        
        $statistics = [];
        if ($result->num_rows > 0) {
            // Store data in an associative array
            while($row = $result->fetch_assoc()) {
                $statistics[$row['statistic']] = $row['content'];
            }
        } else {
            echo "0 results";
        }
        ?>
        <h3><i class="fas fa-info-circle" style="margin-right: 10px;"></i> City Information</h3>
        <p><strong>City Name:</strong> <?php echo isset($statistics['City Name']) ? $statistics['City Name'] : ''; ?></p>
        <p><strong>Congressional District:</strong> <?php echo isset($statistics['Congressional District']) ? $statistics['Congressional District'] : ''; ?></p>
        <p><strong>Legal Basis of Creation:</strong> <?php echo isset($statistics['Legal Basis of Creation']) ? $statistics['Legal Basis of Creation'] : ''; ?></p>
        <p><strong>Land Area:</strong> <?php echo isset($statistics['Land Area']) ? $statistics['Land Area'] : ''; ?></p>
    </div>
    <div class="info-section">
        <h3><i class="fas fa-users" style="margin-right: 10px;"></i> Demographics</h3>
        <p><strong>Total Population:</strong> <?php echo isset($statistics['Total Population']) ? $statistics['Total Population'] : ''; ?></p>
        <p><strong>Number of Households:</strong> <?php echo isset($statistics['Number of Households']) ? $statistics['Number of Households'] : ''; ?></p>
        <p><strong>Number of Families:</strong> <?php echo isset($statistics['Number of Families']) ? $statistics['Number of Families'] : ''; ?></p>
    </div>
    <div class="info-section">
        <h3><i class="fas fa-vote-yea" style="margin-right: 10px;"></i> Registered Voters</h3>
        <p><strong>Total Registered Voters:</strong> <?php echo isset($statistics['Total Registered Voters']) ? $statistics['Total Registered Voters'] : ''; ?></p>
        <p><strong>Number of Precincts:</strong> <?php echo isset($statistics['Number of Precincts']) ? $statistics['Number of Precincts'] : ''; ?></p>
    </div>
    <div class="info-section">
        <h3><i class="fas fa-map-marked-alt" style="margin-right: 10px;"></i> Zoning and District Information</h3>
        <p><strong>Total Number of Zones:</strong><?php echo isset($statistics['Total Number of Zones']) ? $statistics['Total Number of Zones'] : ''; ?></p>
    </div>
</div>


<?php 
include'connection.php';
$sql = "SELECT * FROM barangay_official WHERE status='active'";
$result = $connect->query($sql);

$officials = [];

if ($result->num_rows > 0) {
    while($row = $result->fetch_assoc()) {
        $officials[] = $row;
    }
}

$connect->close();
?>
<?php
include'connection.php';
$sql = "SELECT * FROM events WHERE status='active'";
$result = $connect->query($sql);

$events = [];

if ($result->num_rows > 0) {
    while($row = $result->fetch_assoc()) {
        $events[] = $row;
    }
}

$connect->close();
?>
<?php
include'connection.php';
$sql = "SELECT * FROM announcement WHERE status='active'";
$result = $connect->query($sql);

$announcements = [];

if ($result->num_rows > 0) {
    while($row = $result->fetch_assoc()) {
        $announcements[] = $row;
    }
}

$connect->close();
?>
<?php 
include'connection.php';
$sql = "SELECT * FROM hotline_numbers";
$result = $connect->query($sql);

$hotlines = [];

if ($result->num_rows > 0) {
    while($row = $result->fetch_assoc()) {
        $hotlines[] = $row;
    }
}
$connect->close();
?>
<hr class="custom-hr" id="officialsscroll">
<div class="container1" id="officials">
    <div class="heading">BARANGAY OFFICIALS</div>
    <div class="pyramid">
        <!-- Top level (1 official) -->
        <?php
            // Group officials by their levels
            $topLevel = array_filter($officials, function($official) {
                return $official['position'] == 'Punong Barangay';
            });
            $middleLevel = array_slice(array_filter($officials, function($official) {
                return strpos($official['position'], 'Kagawad') !== false;
            }), 0, 3);
            $bottomLevel = array_slice(array_filter($officials, function($official) {
                return strpos($official['position'], 'Kagawad') !== false;
            }), 3, 7);

            // Helper function to create official elements
            function createOfficialElement($official) {
                $middleName = $official['middle_name'] ? $official['middle_name'] . ' ' : '';
                
                $imagePath = 'officials/' . $official['image']; 
                
                echo '
                <div class="official">
                    <img src="' . $imagePath . '" alt="' . $official['first_name'] . ' ' . $official['last_name'] . '" class="official-img">
                    <hr>
                    <h3 class="official-name">HON. ' . $official['first_name'] . ' ' . $middleName . $official['last_name'] .  '</h3>
                    <p class="official-title">' . $official['position'] . '</p>
                </div>';
            }

            // Create and append top level
            echo '<div class="level top">';
            foreach ($topLevel as $official) {
                createOfficialElement($official);
            }
            echo '</div>';

            // Create and append middle level
            echo '<div class="level middle">';
            foreach ($middleLevel as $official) {
                createOfficialElement($official);
            }
            echo '</div>';

            // Create and append bottom level
            echo '<div class="level bottom">';
            foreach ($bottomLevel as $official) {
                createOfficialElement($official);
            }
            echo '</div>';
            ?>
        </div>
        </div>
    </div>
</div>

    <hr class="custom-hr" id="announcements">
    
    <main>
    <section class="announce">
        <div class="annh2">
            <h2>ANNOUNCEMENTS</h2>
        </div>
        <?php
        function createAnnouncementElement($announcement) {
            $imagePath = 'announcement/' . $announcement['image_announcement']; 
            echo '
            <div class="announcement">
                <img src="' . $imagePath . '" alt="" class="official-img announce-img">
                <h3>' . $announcement['announcement_title'] . '</h3><br>
                <p>Date: ' . $announcement['date'] . '</p>
                <p>' . $announcement['announcement_description'] . '</p>
            </div>';
        }

        // Create and append announcements
        foreach ($announcements as $announcement) {
            createAnnouncementElement($announcement);
        }
        ?>
        </section>
        <hr class="custom-hr" id="events">

        <section class="evnts">
        <div class="annh2">
            <h2>EVENTS</h2>
        </div>
        <?php
        // Helper function to create event elements
        function createEventElement($event) {
            $imagePath = 'events/' . $event['image']; // Change this path to your event images directory
            echo '
            <div class="event">
                <div class="event-con">
                <img src="' . $imagePath . '" alt="' . $event['Event_Name'] . '" onerror="this.src=\'path/to/default-event-image.jpg\'">
                </div>
                <h3>' . $event['Event_Name'] . '</h3><br>
                <p>Date: ' . $event['Date'] . '</p>
                <p>Type: ' . $event['Type_of_Event'] . '</p>
            </div>';
        }

        // Create and append events
        foreach ($events as $event) {
            createEventElement($event);
        }
        ?>
    </section>
    </main>

    

    <hr class="custom-hr" id="hotlinescroll">
    <div class="hotline">
    <div class="header4">
        <h1>EMERGENCY HOTLINES</h1>
    </div>
    <br>
    <div class="container-hotline">
        <br>
        <?php
        // Helper function to create hotline elements
        function createHotlineElement($hotline) {
            echo '
            <div class="secondline">
                <div class="barangayhotline">' . $hotline['Department_Name'] . '</div>
                <div class="number">' . $hotline['Department_Number'] . '</div>
            </div>';
        }

        // Create and append hotlines
        foreach ($hotlines as $hotline) {
            createHotlineElement($hotline);
        }
        ?>
    </div>
    </div><br>
    <div class="container-hotline">

    </div>
    

    <footer class="footer">
        <p>Â© 2024 Barangay Bagong Ilog. All rights reserved.</p>
        <p>Contact Us: bagongilog@example.com | +63 123 456 7890</p>
        <p>Address: 123 Barangay St., Bagong Ilog, Pasig City, Philippines</p>
    </footer>

    <script>

function toggleMenu() {
            const navMenu = document.querySelector('.nav-menu');
            const menuButton = document.querySelector('.menu-button');
            const backButton = document.querySelector('.back-button');
            
            navMenu.classList.toggle('active');
            menuButton.classList.toggle('active');
            backButton.classList.toggle('active');
           
            if (navMenu.classList.contains('active')) {
                backButton.style.display = 'block';
            } else {
                backButton.style.display = 'none';
            }
        }

        
 let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    const totalSlides = slides.length;

    document.querySelector('.nav-arrow.left').addEventListener('click', moveToPreviousSlide);
    document.querySelector('.nav-arrow.right').addEventListener('click', moveToNextSlide);

    function updateSlidePosition() {
        const slider = document.querySelector('.slider');
        slider.style.transform = `translateX(-${currentSlide * 100}%)`;
    }

    function moveToNextSlide() {
        if (currentSlide < totalSlides - 1) {
            currentSlide++;
        } else {
            currentSlide = 0;
        }
        updateSlidePosition();
    }

    function moveToPreviousSlide() {
        if (currentSlide > 0) {
            currentSlide--;
        } else {
            currentSlide = totalSlides - 1;
        }
        updateSlidePosition();
    }

    // Initial positioning
    updateSlidePosition();
    </script>
</body>
</html>
